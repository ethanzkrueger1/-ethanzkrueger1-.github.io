<!DOCTYPE html>
<!--Joe did all the stuff on this page.-->
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Team 4, B IMD 233 w/ JS! </title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">	
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="/css/joe.css">
	<!--former Internal CSS-->
</head>

<body>
	<div class="topnav">
		<a href="index.html">Home</a>
		<a class="active" href="joe.html">Joe Lollo</a>
		<a href="dylan.html">Dylan Dang</a>
		<a href="ethan.html">Ethan Krueger</a>
		<a href="noah.html">Noah Martino</a>
	</div>
		<div class="jumbotron">
			<h1 style="color:#FFFFFF">My Name is Joe Lollo</h1>
			<p class="textjoe">And I'm taking B IMD 233, Web Programming, this quarter. My <a
					href="https://pronoun.is/they">pronouns are they/them</a>.</p>
			<h2 class="midtextjoe">I <em>might</em> already know HTML...</h2>
			<h3 class="midtext2">...but I'm taking this class to learn JS, CSS, and GitHub! This is the updated version
				with JS!</h3>
		</div>
	<p class="thickjoe">The rest of this page has been nuked to show JavaScript stuff.</p>
	<div class="container mt-1">
		<h1>The Quiz of Important Facts:</h1>
		<div class="quiz-container">
  			<div id="quiz">
      				<script>
					(function(){

  let currentSlide = 0; // Put this at the beginning now, as it'll be a global variable

  // Functions
  function buildQuiz(){
    // variable to store the HTML output
    const output = [];

    // for each question...
    myQuestions.forEach(
      (currentQuestion, questionNumber) => {

        // variable to store the list of possible answers
        const answers = [];

        // and for each available answer...
        for(letter in currentQuestion.answers){

          // ...add an HTML radio button
          answers.push(
            `<label>
              <input type="radio" name="question${questionNumber}" value="${letter}">
              ${letter} :
              ${currentQuestion.answers[letter]}
            </label>`
          );
        }

        // add this question and its answers to the output
        output.push(
          `<div class="slide">
            <div class="question"> ${currentQuestion.question} </div>
            <div class="answers"> ${answers.join("")} </div>
          </div>`
        );
      }
    );

    // finally combine our output list into one string of HTML and put it on the page
    quizContainer.innerHTML = output.join('');
  }

  function showResults(){

    // gather answer containers from our quiz
    const answerContainers = quizContainer.querySelectorAll('.answers');

    // keep track of user's answers
    let numCorrect = 0;

    // for each question...
    myQuestions.forEach( (currentQuestion, questionNumber) => {

      // find selected answer
      const answerContainer = answerContainers[questionNumber];
      const selector = `input[name=question${questionNumber}]:checked`;
      const userAnswer = (answerContainer.querySelector(selector) || {}).value;

      // if answer is correct
      if(userAnswer === currentQuestion.correctAnswer){
        // add to the number of correct answers
        numCorrect++;

        // color the answers green
        answerContainers[questionNumber].style.color = 'lightgreen';
      }
      // if answer is wrong or blank
      else{
        // color the answers red
        answerContainers[questionNumber].style.color = 'red';
      }
    });

    // show number of correct answers out of total
    resultsContainer.innerHTML = `${numCorrect} out of ${myQuestions.length}`;
  }

  function showSlide(n) {
    slides[currentSlide].classList.remove('active-slide');
    slides[n].classList.add('active-slide');
    currentSlide = n;
    if(currentSlide === 0){
      previousButton.style.display = 'none';
    }
    else{
      previousButton.style.display = 'inline-block';
    }
    if(currentSlide === slides.length-1){
      nextButton.style.display = 'none';
      submitButton.style.display = 'inline-block';
    }
    else{
      nextButton.style.display = 'inline-block';
      submitButton.style.display = 'none';
    }
  }

  function showNextSlide() {
    currentSlide++;
  }

  function showPreviousSlide() {
    currentSlide--;
  }

  // Variables
  const quizContainer = document.getElementById('quiz');
  const resultsContainer = document.getElementById('results');
  const submitButton = document.getElementById('submit');
  const myQuestions = [
    {
      question: "Who invented the Internet?",
      answers: {
        a: "Tim Berners-Lee",
        b: "Al Gore",
        c: "Vint Cerf",
        d: "Charlie Sheen"
      },
      correctAnswer: "c"
    },
    {
      question: "What is not a video title in 'Important Videos,' the greatest YouTube compilation of all time?",
      answers: {
        a: "Yee",
        b: "It's Prom!",
        c: "Flea Market Montgomery",
        d: "WWMii: Resolving Global Politics Through Super Smash Bros.",
      },
      correctAnswer: "d"
    },
    {
      question: "What should not be able to fly according to all known laws of aviation?",
      answers: {
        a: "A human",
        b: "A bee",
        c: "A pig",
        d: "An airplane",
      },
      correctAnswer: "b"
    },
    {
      question: "Which boy band had their music included in Brooklyn Nine-Nine's most iconic cold open?",
      answers: {
        a: "The Backstreet Boys",
        b: "*NSYNC",
        c: "One Direction",
        d: "BTS"
      },
      correctAnswer: "a"
    },
    {
      question: "What is the meaning of life?",
      answers: {
        a: "Something that distinguishes living from non-living things",
        b: "A scientific journal published by MDPI",
        c: "A board game simulating a person's travels",
        d: "42"
      },
      correctAnswer: "d"
    }
  ];

  // Kick things off
  buildQuiz();

  // Pagination
  const previousButton = document.getElementById("previous");
  const nextButton = document.getElementById("next");
  const slides = document.querySelectorAll(".slide");

  // Show the first slide
  showSlide(currentSlide);

  // Event listeners
  submitButton.addEventListener('click', showResults);
  previousButton.addEventListener('click', showPreviousSlide);
  nextButton.addEventListener('click', showNextSlide);
})
();
				</script>
  			</div>
		</div>
		<button id="previous">Previous Question</button>
		<button id="next">Next Question</button>
		<button id="submit">Submit Quiz</button>
		<div id="results"></div>
	</div>
		
</body>
</html>
